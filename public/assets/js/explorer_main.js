(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{42:function(e,t,n){e.exports=n(83)},51:function(e,t,n){},52:function(e,t,n){},71:function(e,t,n){},72:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},80:function(e,t,n){},81:function(e,t,n){},83:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(13),i=n.n(o),c=n(14),l=(n(51),n(52),n(3)),s=n(12),u=n.n(s),d=n(17),p=n(4),h=n(5),f=n(10),m=n(9),v=n(11),O=n(1),b=n.n(O),y=function(e,t){return{type:"LOAD_CHILDREN_NODES",parent:e,data:t}},g=function(e){return{type:"TOGGLE_CHILDREN_NODES",parent:e}},E=function(e){return{type:"OPEN_MODAL",data:e}},N=n(24),_=n.n(N),j=function(){var e=Object(d.a)(u.a.mark(function e(t,n){var r;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=t,e.next=e.t0===C.GET_ROOT?4:e.t0===C.GET_CHILDREN?8:12;break;case 4:return e.next=6,_.a.get(n);case 6:return r=e.sent,e.abrupt("break",13);case 8:return e.next=10,_.a.get(n);case 10:return r=e.sent,e.abrupt("break",13);case 12:return e.abrupt("return",{errors:["Request not found"]});case 13:return e.abrupt("return",r.data);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),C={GET_CHILDREN:"get_children",GET_ROOT:"get_root"},k=(n(71),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onOpenModal=function(){n.props.openModalAction({enrolleeId:n.props.id})},n.handleClick=Object(d.a)(u.a.mark(function e(){var t,r,a,o,i,c,l,s,d,p,h;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.id,a=t.onLoad,o=t.showChildren,i=t.sourceUrl,c=t.numberOfChildren,l=t.setLoading,s=t.setLoaded,d=t.children,!(c>0)){e.next=11;break}if(l(),p=[],0!==d.length){e.next=9;break}return h=i+"?id="+r,e.next=8,j(C.GET_CHILDREN,h);case 8:p=e.sent;case 9:p.errors||a(r,o,p),s();case 11:case"end":return e.stop()}},e)})),n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.numberOfChildren,o=["Node__Container"];return 0===r&&o.push("disabled"),a.a.createElement("div",{className:o.join(" ")},a.a.createElement("div",{onClick:function(){return e.handleClick()},className:"Node__Title"},a.a.createElement("span",null,n)," ",a.a.createElement("span",null,r)),a.a.createElement("div",{className:"Node__ModalButtonContainer",onClick:this.onOpenModal},a.a.createElement("i",{className:"fa fa-external-link"})))}}]),t}(a.a.PureComponent)),w={id:b.a.string.isRequired,parent:b.a.string.isRequired,title:b.a.string.isRequired,showChildren:b.a.bool,numberOfChildren:b.a.number.isRequired,children:b.a.arrayOf(b.a.shape({id:b.a.string.isRequired,title:b.a.string.isRequired,numberOfChildren:b.a.number.isRequired})),sourceUrl:b.a.string,setLoading:b.a.func.isRequired,setLoaded:b.a.func.isRequired};w.children=b.a.arrayOf(b.a.shape(w).isRequired),k.defaultProps={showChildren:!1,children:[]};var x=Object(c.b)(function(e){return{sourceUrl:e.variables.sourceUrl}},function(e){return{onLoad:function(t,n,r){n?e(g(t)):(e(y(t,r)),e(g(t)))},setLoading:function(){e({type:"SET_LOADING",data:{loading:!0}})},setLoaded:function(){e({type:"SET_LOADING_END",data:{loading:!1}})},openModalAction:function(t){return e(E(t))}}})(k),L=(n(72),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e="";switch(this.props.type){case"space":e=" ";break;case"pipe":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"})));break;case"line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;case"last-line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"50%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;default:e="-"}return a.a.createElement("div",{className:"EmptyNode__Container"},e)}}]),t}(a.a.PureComponent)),R=(n(73),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props.nodes.map(function(e,t){return e.isEmpty?a.a.createElement(L,Object.assign({key:t},e)):a.a.createElement(x,Object.assign({key:t},e))});return a.a.createElement("div",{className:"Column__Container"},e)}}]),t}(a.a.PureComponent)),S=n(6),I=function(e){return{type:"LOAD_ROOT_NODE",data:Object(S.a)({},e)}},M=function(){function e(t){Object(p.a)(this,e),this.root=t}return Object(h.a)(e,[{key:"findNode",value:function(t){return e.findInTree(this.root,t)}},{key:"addChildren",value:function(t,n){var r=e.findInTree(this.root,t);r.children||(r.children=[]),r.children=[].concat(Object(l.a)(r.children),Object(l.a)(n))}},{key:"toggleChildren",value:function(t){var n=e.findInTree(this.root,t);return n.showChildren=!n.showChildren}},{key:"getRoot",value:function(){return this.root}}],[{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"getLevels",value:function(e){for(var t=!1,n=[[[e]]],r=0;!t;){var a=n[r].reduce(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))},[]).reduce(function(e,t){return t.children||(t.children=[]),t.children.forEach(function(e){e.parentNode=t}),t.children.length&&t.showChildren?[].concat(Object(l.a)(e),[t.children]):e},[]);a.length>0?n[++r]=a:t=!0}return n}},{key:"generateEmptyNodes",value:function(e,t){for(var n=[],r=0;r<t;r++)n.push({isEmpty:!0,type:e});return n}},{key:"getOpenedChildrenWidth",value:function(t){return t.showChildren&&0!==t.children.length?t.children.length+t.children.reduce(function(t,n){return e.getOpenedChildrenWidth(n)+t},0):0}},{key:"getChildren",value:function(e){e.reducers(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.children))})}},{key:"findInTree",value:function(t,n){if(t.id===n)return t;t.children||(t.children=[]);for(var r=0;r<t.children.length;r++){var a=e.findInTree(t.children[r],n);if(a)return a}return null}}]),e}(),T=(n(74),function(){return a.a.createElement("div",{className:"Spinner__Container"},a.a.createElement("div",{className:"lds-dual-ring"}))}),D=n(40),G=(n(80),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(f.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onCloseModal=function(){n.props.closeModal()},n}return Object(v.a)(t,e),Object(h.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.detailsUrl,r=e.id;return a.a.createElement(D.a,{open:t,onClose:this.onCloseModal},a.a.createElement("div",{className:"ModalElement__IframeContainer"},a.a.createElement("iframe",{className:"ModalElement__Iframe",src:n+"/associate/info/"+r})))}}]),t}(a.a.PureComponent)),A=Object(c.b)(function(e){return{open:e.modal.open,detailsUrl:e.variables.detailsUrl,id:e.modal.content.enrolleeId}},function(e){return{closeModal:function(){e({type:"CLOSE_MODAL",data:null})}}})(G),U=(n(81),function(e){function t(){return Object(p.a)(this,t),Object(f.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(h.a)(t,[{key:"componentDidMount",value:function(){var e=Object(d.a)(u.a.mark(function e(){var t,n,r,a,o,i,c;return u.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.root,r=t.didMount,a=t.sourceUrl,o=t.setLoading,i=t.setLoaded,n){e.next=8;break}return o(),e.next=5,j(C.GET_ROOT,a);case 5:(c=e.sent).errors||r(c),i();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this.props,t=e.root,n=e.maxColumnSize,r=e.loading,o=t?M.getLevels(M.clone(t)):[],i=[],c=0;c<o.length;c++){i[c]=[];for(var s=0,u=0;u<o[c].length;u++){if(o[c][u].length>0){var d=(o[c][u][0].parentNode?o[c][u][0].parentNode.offset:0)-i[c].length,p=M.generateEmptyNodes("space",d);i[c]=[].concat(Object(l.a)(i[c]),Object(l.a)(p)),s+=d}for(var h=0;h<o[c][u].length;h++){var f=o[c][u][h];f.offset=++s;var m=M.getOpenedChildrenWidth(f);s+=m;var v;v=M.generateEmptyNodes("pipe",m),i[c]=[].concat(Object(l.a)(i[c]),[f],Object(l.a)(v))}}}for(var O=i.length-1;O>0;O--)for(var b=0;b<i[O].length;b++){var y=i[O-1][b];!i[O][b].isEmpty&&y&&y.type&&(y.type="line")}for(var g=i.length-1;g>=0;g--)for(var E=!0,N=!0,_=i[g].length-1;_>0;_--){var j=i[g][_];if(j&&j.type)switch(j.type){case"pipe":E&&(j.type="space");break;case"line":(E||N)&&(E=!1,N=!1,j.type="last-line")}else N=!0,E=!0}for(var C=i.reverse().splice(0,n).reverse(),k=0,w=!0;w;)C[0]&&C[0][k].type&&"space"===C[0][k].type?++k:w=!1;var x=C.map(function(e,t){return a.a.createElement(R,{key:t,nodes:e.splice(k)})});return a.a.createElement("div",{className:"NodeMatrix__Container"},x,a.a.createElement(A,null),r?a.a.createElement(T,null):null)}}]),t}(a.a.PureComponent)),q=Object(c.b)(function(e){return{root:e.nodes.rootNode,width:e.matrix.matrixWidth,maxColumnSize:e.variables.maxColumnSize,loading:e.variables.loading,sourceUrl:e.variables.sourceUrl}},function(e){return{didMount:function(t){e(I(t))},setLoading:function(){e({type:"SET_LOADING",data:{loading:!0}})},setLoaded:function(){e({type:"SET_LOADING_END",data:{loading:!1}})}}})(U);var B=function(){return a.a.createElement(q,{width:6})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(15),P=n(39),W=(n(82),{open:!1,content:{enrolleeId:""}}),H=function(e){return{type:"SET_SOURCE_URLS",data:e}},z={maxColumnSize:5,loading:!1,sourceUrl:"",detailsUrl:""},J=Object(V.c)({nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rootNode:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case I().type:return{rootNode:Object(S.a)({},t.data)};case y(0).type:var n=new M(M.clone(e.rootNode));return n.addChildren(t.parent,t.data),{rootNode:n.getRoot()};case g(0).type:var r=new M(M.clone(e.rootNode));return r.toggleChildren(t.parent),{rootNode:r.getRoot()};default:return e}},matrix:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type,{matrixWidth:6}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case E(e).type:var n={open:!0,content:Object(S.a)({},t.data)};return Object(S.a)({},e,n);case"CLOSE_MODAL":return Object(S.a)({},e,{open:!1,content:{enrolleeId:""}});default:return e}},variables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":case"SET_LOADING_END":case H(e).type:return Object(S.a)({},e,t.data);default:return e}}}),Y=[P.a];var $={sourceUrl:document.getElementById("rootExplorer").getAttribute("data-source"),detailsUrl:document.getElementById("rootExplorer").getAttribute("data-details")},F=Object(V.d)(J,V.a.apply(void 0,Y));F.dispatch(H($)),i.a.render(a.a.createElement(c.a,{store:F},a.a.createElement(B,null)),document.getElementById("rootExplorer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[42,1,2]]]);
//# sourceMappingURL=main.09fe0c45.chunk.js.map