(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{45:function(e,t,n){e.exports=n(93)},54:function(e,t,n){},55:function(e,t,n){},56:function(e,t,n){},57:function(e,t,n){},58:function(e,t,n){},59:function(e,t,n){},65:function(e,t,n){},66:function(e,t,n){},93:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(13),l=(n(54),n(55),n(2)),u=n(4),s=n(5),d=n(10),p=n(9),h=n(11),f=n(1),m=n.n(f),v=function(e,t){return{type:"LOAD_CHILDREN_NODES",parent:e,requestUrl:t}},b=function(e){return{type:"TOGGLE_CHILDREN_NODES",parent:e}},O=function(e){return{type:"OPEN_MODAL",data:e}},y=(n(56),function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).onOpenModal=function(){n.props.openModalAction({enrolleeId:n.props.id})},n.handleClick=function(){var e=n.props,t=e.id,r=e.onLoad,a=e.showChildren,o=e.sourceUrl;e.numberOfChildren>0&&r(t,a,o)},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.numberOfChildren,o=["Node__Container"];return 0===r&&o.push("disabled"),a.a.createElement("div",{className:o.join(" ")},a.a.createElement("span",{onClick:function(){return e.handleClick()},className:"Node__Title"},n," ",r),a.a.createElement("div",{className:"Node__ModalButtonContainer",onClick:this.onOpenModal},a.a.createElement("i",{className:"fa fa-external-link"})))}}]),t}(a.a.PureComponent)),g={id:m.a.string.isRequired,parent:m.a.string.isRequired,title:m.a.string.isRequired,showChildren:m.a.bool,numberOfChildren:m.a.number.isRequired,children:m.a.arrayOf(m.a.shape({id:m.a.string.isRequired,title:m.a.string.isRequired,numberOfChildren:m.a.number.isRequired})),sourceUrl:m.a.string};g.children=m.a.arrayOf(m.a.shape(g).isRequired),y.defaultProps={showChildren:!1,children:[]};var E=Object(c.b)(function(e){return{sourceUrl:e.variables.sourceUrl}},function(e){return{onLoad:function(t,n,r){n?e(b(t)):(e({type:"SET_LOADING",data:{loading:!0}}),e(v(t,r)),e(b(t)),e({type:"SET_LOADING_END",data:{loading:!1}}))},openModalAction:function(t){return e(O(t))}}})(y),N=(n(57),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e="";switch(this.props.type){case"space":e=" ";break;case"pipe":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"})));break;case"line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;case"last-line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"50%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;default:e="-"}return a.a.createElement("div",{className:"EmptyNode__Container"},e)}}]),t}(a.a.PureComponent)),j=(n(58),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props.nodes.map(function(e,t){return e.isEmpty?a.a.createElement(N,Object.assign({key:t},e)):a.a.createElement(E,Object.assign({key:t},e))});return a.a.createElement("div",{className:"Column__Container"},e)}}]),t}(a.a.PureComponent)),C=function(e){return{type:"LOAD_ROOT_NODE",requestUrl:e}},_=function(){function e(t){Object(u.a)(this,e),this.root=t}return Object(s.a)(e,[{key:"findNode",value:function(t){return e.findInTree(this.root,t)}},{key:"addChildren",value:function(t,n){var r=e.findInTree(this.root,t);r.children||(r.children=[]),r.children=[].concat(Object(l.a)(r.children),Object(l.a)(n))}},{key:"toggleChildren",value:function(t){var n=e.findInTree(this.root,t);return n.showChildren=!n.showChildren}},{key:"getRoot",value:function(){return this.root}}],[{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"getLevels",value:function(e){for(var t=!1,n=[[[e]]],r=0;!t;){var a=n[r].reduce(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))},[]).reduce(function(e,t){return t.children||(t.children=[]),t.children.forEach(function(e){e.parentNode=t}),t.children.length&&t.showChildren?[].concat(Object(l.a)(e),[t.children]):e},[]);a.length>0?n[++r]=a:t=!0}return n}},{key:"generateEmptyNodes",value:function(e,t){for(var n=[],r=0;r<t;r++)n.push({isEmpty:!0,type:e});return n}},{key:"getOpenedChildrenWidth",value:function(t){return t.showChildren&&0!==t.children.length?t.children.length+t.children.reduce(function(t,n){return e.getOpenedChildrenWidth(n)+t},0):0}},{key:"getChildren",value:function(e){e.reducers(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.children))})}},{key:"findInTree",value:function(t,n){if(t.id===n)return t;t.children||(t.children=[]);for(var r=0;r<t.children.length;r++){var a=e.findInTree(t.children[r],n);if(a)return a}return null}}]),e}(),k=(n(59),function(){return a.a.createElement("div",{className:"Spinner__Container"},a.a.createElement("div",{className:"lds-dual-ring"}))}),w=n(43),x=(n(65),function(e){function t(){var e,n;Object(u.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(d.a)(this,(e=Object(p.a)(t)).call.apply(e,[this].concat(a)))).onCloseModal=function(){n.props.closeModal()},n}return Object(h.a)(t,e),Object(s.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.detailsUrl,r=e.id;return a.a.createElement(w.a,{open:t,onClose:this.onCloseModal},a.a.createElement("div",{className:"ModalElement__IframeContainer"},a.a.createElement("iframe",{width:"100%",height:"100%",src:n+"/associate/info/"+r})))}}]),t}(a.a.PureComponent)),L=Object(c.b)(function(e){return{open:e.modal.open,detailsUrl:e.variables.detailsUrl,id:e.modal.content.enrolleeId}},function(e){return{closeModal:function(){e({type:"CLOSE_MODAL",data:null})}}})(x),S=(n(66),function(e){function t(){return Object(u.a)(this,t),Object(d.a)(this,Object(p.a)(t).apply(this,arguments))}return Object(h.a)(t,e),Object(s.a)(t,[{key:"componentDidMount",value:function(){this.props.didMount(this.props.sourceUrl)}},{key:"render",value:function(){for(var e=this.props,t=e.root,n=e.maxColumnSize,r=e.loading,o=t?_.getLevels(_.clone(t)):[],i=[],c=0;c<o.length;c++){i[c]=[];for(var u=0,s=0;s<o[c].length;s++){if(o[c][s].length>0){var d=(o[c][s][0].parentNode?o[c][s][0].parentNode.offset:0)-i[c].length,p=_.generateEmptyNodes("space",d);i[c]=[].concat(Object(l.a)(i[c]),Object(l.a)(p)),u+=d}for(var h=0;h<o[c][s].length;h++){var f=o[c][s][h];f.offset=++u;var m=_.getOpenedChildrenWidth(f);u+=m;var v;v=_.generateEmptyNodes("pipe",m),i[c]=[].concat(Object(l.a)(i[c]),[f],Object(l.a)(v))}}}for(var b=i.length-1;b>0;b--)for(var O=0;O<i[b].length;O++){var y=i[b-1][O];!i[b][O].isEmpty&&y&&y.type&&(y.type="line")}for(var g=i.length-1;g>=0;g--)for(var E=!0,N=!0,C=i[g].length-1;C>0;C--){var w=i[g][C];if(w&&w.type)switch(w.type){case"pipe":E&&(w.type="space");break;case"line":(E||N)&&(E=!1,N=!1,w.type="last-line")}else N=!0,E=!0}for(var x=i.reverse().splice(0,n).reverse(),S=0,R=!0;R;)x[0]&&x[0][S].type&&"space"===x[0][S].type?++S:R=!1;var I=x.map(function(e,t){return a.a.createElement(j,{key:t,nodes:e.splice(S)})}),T=a.a.createElement("div",{style:{display:"flex"}},I,a.a.createElement(L,null)),D=a.a.createElement(k,null);return r?D:T}}]),t}(a.a.PureComponent)),R=Object(c.b)(function(e){return{root:e.nodes.rootNode,width:e.matrix.matrixWidth,maxColumnSize:e.variables.maxColumnSize,loading:e.variables.loading,sourceUrl:e.variables.sourceUrl}},function(e){return{didMount:function(t){e({type:"SET_LOADING",data:{loading:!0}}),e(C(t)),e({type:"SET_LOADING_END",data:{loading:!1}})}}})(S);var I=function(){return a.a.createElement(R,{width:6})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var T=n(14),D=n(40),G=n(41),M=n(16),A=n.n(M),U=n(8),q=n(20),B=(n(42),n(26)),V=n.n(B),P=function(){var e=Object(q.a)(A.a.mark(function e(t,n){var r;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=t,e.next=e.t0===W.GET_CHILDREN?4:e.t0===W.GET_ROOT?8:12;break;case 4:return e.next=6,V.a.get(n);case 6:return r=e.sent,e.abrupt("break",13);case 8:return e.next=10,V.a.get(n);case 10:return r=e.sent,e.abrupt("break",13);case 12:return e.abrupt("return",{errors:["Request not found"]});case 13:return console.log("request manager",r),e.abrupt("return",r.data);case 15:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),W={GET_CHILDREN:"get_children",GET_ROOT:"get_root"},H=Object(q.a)(A.a.mark(function e(){var t,n,r,a,o,i,c,l=arguments;return A.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:t=l.length>0&&void 0!==l[0]?l[0]:{rootNode:null},n=l.length>1?l[1]:void 0,e.t0=n.type,e.next=e.t0===C().type?5:e.t0===v(0).type?13:e.t0===b(0).type?22:25;break;case 5:return e.next=7,P(W.GET_ROOT,n.requestUrl);case 7:if(r=e.sent,console.log(r),!r.errors){e.next=11;break}return e.abrupt("return",t);case 11:return console.log({rootNode:Object(U.a)({},r)}),e.abrupt("return",{rootNode:Object(U.a)({},r)});case 13:return a=new _(_.clone(t.rootNode)),o=n.requestUrl+"?id="+n.parent,e.next=17,P(W.GET_CHILDREN,o);case 17:if(!(i=e.sent).errors){e.next=20;break}return e.abrupt("return",t);case 20:return a.addChildren(n.parent,i),e.abrupt("return",{rootNode:a.getRoot()});case 22:return(c=new _(_.clone(t.rootNode))).toggleChildren(n.parent),e.abrupt("return",{rootNode:c.getRoot()});case 25:return e.abrupt("return",t);case 26:case"end":return e.stop()}},e)})),z={open:!1,content:{enrolleeId:""}},J=function(e){return{type:"SET_SOURCE_URLS",data:e}},Y={maxColumnSize:5,loading:!1,sourceUrl:"",detailsUrl:""},$=Object(T.c)({nodes:H,matrix:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type,{matrixWidth:6}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O(e).type:var n={open:!0,content:Object(U.a)({},t.data)};return Object(U.a)({},e,n);case"CLOSE_MODAL":return Object(U.a)({},e,{open:!1,content:{enrolleeId:""}});default:return e}},variables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Y,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":case"SET_LOADING_END":case J(e).type:return Object(U.a)({},e,t.data);default:return e}}}),F=[D.a,Object(G.createLogger)()];var K={sourceUrl:document.getElementById("root").getAttribute("data-source"),detailsUrl:document.getElementById("root").getAttribute("data-details")},Q=Object(T.d)($,T.a.apply(void 0,F));Q.dispatch(J(K)),i.a.render(a.a.createElement(c.a,{store:Q},a.a.createElement(I,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[45,1,2]]]);
//# sourceMappingURL=main.18933621.chunk.js.map