(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{37:function(e,t,n){e.exports=n(76)},46:function(e,t,n){},47:function(e,t,n){},66:function(e,t,n){},67:function(e,t,n){},68:function(e,t,n){},69:function(e,t,n){},73:function(e,t,n){},74:function(e,t,n){},76:function(e,t,n){"use strict";n.r(t);var r=n(0),a=n.n(r),o=n(12),i=n.n(o),c=n(13),l=(n(46),n(47),n(2)),d=n(7),s=n.n(d),u=n(15),p=n(4),f=n(5),h=n(9),m=n(8),v=n(10),b=n(1),O=n.n(b),g=function(e,t){return{type:"LOAD_CHILDREN_NODES",parent:e,data:t}},E=function(e){return{type:"TOGGLE_CHILDREN_NODES",parent:e}},y=function(e){return{type:"OPEN_MODAL",data:e}},N=n(20),C=n.n(N),_=function(){var e=Object(u.a)(s.a.mark(function e(t,n){var r;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:r={},e.t0=t,e.next=e.t0===j.GET_ROOT?4:e.t0===j.GET_CHILDREN?8:12;break;case 4:return e.next=6,C.a.get(n,{withCredentials:!0});case 6:return r=e.sent,e.abrupt("break",13);case 8:return e.next=10,C.a.get(n,{withCredentials:!0});case 10:return r=e.sent,e.abrupt("break",13);case 12:return e.abrupt("return",{errors:["Request not found"]});case 13:return e.abrupt("return",r.data);case 14:case"end":return e.stop()}},e)}));return function(t,n){return e.apply(this,arguments)}}(),j={GET_CHILDREN:"get_children",GET_ROOT:"get_root"},k=(n(66),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onOpenInfo=function(){n.props.infoInModal?n.props.openModalAction({enrolleeId:n.props.id}):window.open(n.props.detailsUrl+n.props.id,"_blank")},n.handleClick=Object(u.a)(s.a.mark(function e(){var t,r,a,o,i,c,d,u,p,f,h,m,v,b;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,r=t.id,a=t.onLoad,o=t.showChildren,i=t.sourceUrl,c=t.numberOfChildren,d=t.setLoading,u=t.setLoaded,p=t.children,f=t.onToggleChildren,!o){e.next=6;break}return d(),f(r),u(),e.abrupt("return");case 6:if(h=p.filter(function(e){return!e.loadMoreNode}).length,!(c>0)){e.next=22;break}if(d(),m=[],v=0,0!==h){e.next=19;break}return b=i+"?id="+r,e.next=15,_(j.GET_CHILDREN,b);case 15:m=e.sent,v=c-m.length,e.next=20;break;case 19:v=c-h;case 20:m.errors||a(r,o,0!==v?[].concat(Object(l.a)(m),[{loadMoreNode:!0,offset:c-v,parent:r,id:"load_"+r,numberOfChildren:v}]):m),u();case 22:case"end":return e.stop()}},e)})),n.handleLoadMoreClick=Object(u.a)(s.a.mark(function e(){var t,r,a,o,i,c,d,u,p,f,h;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=n.props,t.id,r=t.loadMore,a=t.sourceUrl,o=t.numberOfChildren,i=t.setLoading,c=t.setLoaded,d=t.parent,u=t.offset,!(o>0)){e.next=10;break}return i(),p=[],f="".concat(a,"?id=").concat(d,"&offset=").concat(u),e.next=7,_(j.GET_CHILDREN,f);case 7:(p=e.sent).errors||(p.length<o?(h=o-p.length,r(d,[].concat(Object(l.a)(p),[{loadMoreNode:!0,offset:p.length+u,parent:d,id:"load_"+d,numberOfChildren:h}]))):r(d,p)),c();case 10:case"end":return e.stop()}},e)})),n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.title,r=t.numberOfChildren,o=["Node__Container"];return t.loadMoreNode?a.a.createElement("div",{className:o.join(" ")},a.a.createElement("div",{onClick:function(){return e.handleLoadMoreClick()},className:"LoadMoreNode__Title"},a.a.createElement("span",null,"Load More"))):(0===r&&o.push("disabled"),a.a.createElement("div",{className:o.join(" ")},a.a.createElement("div",{onClick:function(){return e.handleClick()},className:"Node__Title"},a.a.createElement("span",null,n)," ",a.a.createElement("span",null,r)),a.a.createElement("div",{className:"Node__ModalButtonContainer",onClick:this.onOpenInfo},a.a.createElement("i",{className:"fa fa-external-link"}))))}}]),t}(a.a.PureComponent)),w={id:O.a.string.isRequired,loadMoreNode:O.a.bool,offset:O.a.number,parent:O.a.string.isRequired,title:O.a.string.isRequired,showChildren:O.a.bool,numberOfChildren:O.a.number.isRequired,children:O.a.arrayOf(O.a.shape({id:O.a.string.isRequired,title:O.a.string.isRequired,numberOfChildren:O.a.number.isRequired})),sourceUrl:O.a.string,setLoading:O.a.func.isRequired,setLoaded:O.a.func.isRequired};w.children=O.a.arrayOf(O.a.shape(w).isRequired),k.defaultProps={showChildren:!1,children:[]};var x=Object(c.b)(function(e){return{sourceUrl:e.variables.sourceUrl,detailsUrl:e.variables.detailsUrl,infoInModal:e.variables.inModal}},function(e){return{onLoad:function(t,n,r){n?e(E(t)):(e(g(t,r)),e(E(t)))},onToggleChildren:function(t){return e(E(t))},loadMore:function(t,n){return e(g(t,n))},setLoading:function(){e({type:"SET_LOADING",data:{loading:!0}})},setLoaded:function(){e({type:"SET_LOADING_END",data:{loading:!1}})},openModalAction:function(t){return e(y(t))}}})(k),L=(n(67),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e="";switch(this.props.type){case"space":e=" ";break;case"pipe":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"})));break;case"line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"100%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;case"last-line":e=a.a.createElement("div",{className:"EmptyNode__SVGContainer"},a.a.createElement("svg",{viewBox:"0 0 100% 100%",preserveAspectRatio:"xMidYMid meet",width:"100%",height:"100%"},a.a.createElement("line",{x1:"0",y1:"0",x2:"0",y2:"50%",className:"SVG_Line"}),a.a.createElement("line",{x1:"0",y1:"50%",x2:"100%",y2:"50%",className:"SVG_Line"})));break;default:e="-"}return a.a.createElement("div",{className:"EmptyNode__Container"},e)}}]),t}(a.a.PureComponent)),M=(n(68),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props.nodes.map(function(e,t){return e.isEmpty?a.a.createElement(L,Object.assign({key:t},e)):a.a.createElement(x,Object.assign({key:t},e))});return a.a.createElement("div",{className:"Column__Container"},e)}}]),t}(a.a.PureComponent)),I=n(6),R=function(e){return{type:"LOAD_ROOT_NODE",data:Object(I.a)({},e)}},S=function(){function e(t){Object(p.a)(this,e),this.root=t}return Object(f.a)(e,[{key:"findNode",value:function(t){return e.findInTree(this.root,t)}},{key:"addChildren",value:function(t,n){var r=e.findInTree(this.root,t);r.children||(r.children=[]),r.children=[].concat(Object(l.a)(r.children.filter(function(e){return!e.loadMoreNode})),Object(l.a)(n))}},{key:"toggleChildren",value:function(t){var n=e.findInTree(this.root,t);return n.showChildren=!n.showChildren}},{key:"getRoot",value:function(){return this.root}}],[{key:"clone",value:function(e){return JSON.parse(JSON.stringify(e))}},{key:"getLevels",value:function(e){for(var t=!1,n=[[[e]]],r=0;!t;){var a=n[r].reduce(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t))},[]).reduce(function(e,t){return t.children||(t.children=[]),t.children.forEach(function(e){e.parentNode=t}),t.children.length&&t.showChildren?[].concat(Object(l.a)(e),[t.children]):e},[]);a.length>0?n[++r]=a:t=!0}return n}},{key:"generateEmptyNodes",value:function(e,t){for(var n=[],r=0;r<t;r++)n.push({isEmpty:!0,type:e});return n}},{key:"getOpenedChildrenWidth",value:function(t){return t.showChildren&&0!==t.children.length?t.children.length+t.children.reduce(function(t,n){return e.getOpenedChildrenWidth(n)+t},0):0}},{key:"getChildren",value:function(e){e.reducers(function(e,t){return[].concat(Object(l.a)(e),Object(l.a)(t.children))})}},{key:"findInTree",value:function(t,n){if(t.id===n)return t;t.children||(t.children=[]);for(var r=0;r<t.children.length;r++){var a=e.findInTree(t.children[r],n);if(a)return a}return null}}]),e}(),T=(n(69),function(){return a.a.createElement("div",{className:"Spinner__Container"},a.a.createElement("div",{className:"lds-dual-ring"}))}),D=n(35),G=(n(73),function(e){function t(){var e,n;Object(p.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(h.a)(this,(e=Object(m.a)(t)).call.apply(e,[this].concat(a)))).onCloseModal=function(){n.props.closeModal()},n}return Object(v.a)(t,e),Object(f.a)(t,[{key:"render",value:function(){var e=this.props,t=e.open,n=e.detailsUrl,r=e.id;return a.a.createElement(D.a,{open:t,onClose:this.onCloseModal},a.a.createElement("div",{className:"ModalElement__IframeContainer"},a.a.createElement("iframe",{className:"ModalElement__Iframe",src:n+"/associate/info/"+r})))}}]),t}(a.a.PureComponent)),A=Object(c.b)(function(e){return{open:e.modal.open,detailsUrl:e.variables.detailsUrl,id:e.modal.content.enrolleeId}},function(e){return{closeModal:function(){e({type:"CLOSE_MODAL",data:null})}}})(G),U=(n(74),function(e){function t(){return Object(p.a)(this,t),Object(h.a)(this,Object(m.a)(t).apply(this,arguments))}return Object(v.a)(t,e),Object(f.a)(t,[{key:"componentDidMount",value:function(){var e=Object(u.a)(s.a.mark(function e(){var t,n,r,a,o,i,c;return s.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:if(t=this.props,n=t.root,r=t.didMount,a=t.sourceUrl,o=t.setLoading,i=t.setLoaded,n){e.next=8;break}return o(),e.next=5,_(j.GET_ROOT,a);case 5:(c=e.sent).errors||r(c),i();case 8:case"end":return e.stop()}},e,this)}));return function(){return e.apply(this,arguments)}}()},{key:"render",value:function(){for(var e=this.props,t=e.root,n=e.maxColumnSize,r=e.loading,o=t?S.getLevels(S.clone(t)):[],i=[],c=0;c<o.length;c++){i[c]=[];for(var d=0,s=0;s<o[c].length;s++){if(o[c][s].length>0){var u=(o[c][s][0].parentNode?o[c][s][0].parentNode.placementOffset:0)-i[c].length,p=S.generateEmptyNodes("space",u);i[c]=[].concat(Object(l.a)(i[c]),Object(l.a)(p)),d+=u}for(var f=0;f<o[c][s].length;f++){var h=o[c][s][f];h.placementOffset=++d;var m=S.getOpenedChildrenWidth(h);d+=m;var v;v=S.generateEmptyNodes("pipe",m),i[c]=[].concat(Object(l.a)(i[c]),[h],Object(l.a)(v))}}}for(var b=i.length-1;b>0;b--)for(var O=0;O<i[b].length;O++){var g=i[b-1][O];!i[b][O].isEmpty&&g&&g.type&&(g.type="line")}for(var E=i.length-1;E>=0;E--)for(var y=!0,N=!0,C=i[E].length-1;C>0;C--){var _=i[E][C];if(_&&_.type)switch(_.type){case"pipe":y&&(_.type="space");break;case"line":(y||N)&&(y=!1,N=!1,_.type="last-line")}else N=!0,y=!0}for(var j=i.reverse().splice(0,n).reverse(),k=0,w=!0;w;)j[0]&&j[0][k].type&&"space"===j[0][k].type?++k:w=!1;var x=j.map(function(e,t){return a.a.createElement(M,{key:t,nodes:e.splice(k)})});return a.a.createElement("div",{className:"NodeMatrix__Container"},x,a.a.createElement(A,null),r?a.a.createElement(T,null):null)}}]),t}(a.a.PureComponent)),q=Object(c.b)(function(e){return{root:e.nodes.rootNode,width:e.matrix.matrixWidth,maxColumnSize:e.variables.maxColumnSize,loading:e.variables.loading,sourceUrl:e.variables.sourceUrl}},function(e){return{didMount:function(t){e(R(t))},setLoading:function(){e({type:"SET_LOADING",data:{loading:!0}})},setLoaded:function(){e({type:"SET_LOADING_END",data:{loading:!1}})}}})(U);var B=function(){return a.a.createElement(q,{width:6})};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var V=n(14),P=n(34),W=(n(75),{open:!1,content:{enrolleeId:""}}),H=function(e){return{type:"SET_SOURCE_URLS",data:e}},z={maxColumnSize:5,loading:!1,sourceUrl:"",detailsUrl:"",inModal:!0},J=Object(V.c)({nodes:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{rootNode:null},t=arguments.length>1?arguments[1]:void 0;switch(t.type){case R().type:return{rootNode:Object(I.a)({},t.data)};case g(0).type:var n=new S(S.clone(e.rootNode));return n.addChildren(t.parent,t.data),{rootNode:n.getRoot()};case E(0).type:var r=new S(S.clone(e.rootNode));return r.toggleChildren(t.parent),{rootNode:r.getRoot()};default:return e}},matrix:function(){arguments.length>0&&void 0!==arguments[0]&&arguments[0];return(arguments.length>1?arguments[1]:void 0).type,{matrixWidth:6}},modal:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:W,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case y(e).type:var n={open:!0,content:Object(I.a)({},t.data)};return Object(I.a)({},e,n);case"CLOSE_MODAL":return Object(I.a)({},e,{open:!1,content:{enrolleeId:""}});default:return e}},variables:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:z,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_LOADING":case"SET_LOADING_END":case H(e).type:return Object(I.a)({},e,t.data);default:return e}}});console.log("production");var Y=[P.a];var $={sourceUrl:document.getElementById("rootExplorer").getAttribute("data-source"),detailsUrl:document.getElementById("rootExplorer").getAttribute("data-details"),inModal:"false"!=document.getElementById("rootExplorer").getAttribute("data-detailsInModal")},F=Object(V.d)(J,V.a.apply(void 0,Y));F.dispatch(H($)),i.a.render(a.a.createElement(c.a,{store:F},a.a.createElement(B,null)),document.getElementById("rootExplorer")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[37,1,2]]]);
//# sourceMappingURL=main.24def23e.chunk.js.map